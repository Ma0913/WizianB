<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wizian.admission.wizianb.repository.PassManagementRepository">

    <select id="findAll" resultType="com.wizian.admission.wizianb.domain.PassManagement">
        SELECT eam.*, eet.EV_AVG_SCORE, eet.PREL_ORD FROM entry_apply_master eam, entry_ev_target eet WHERE eam.APLY_NO = eet.APLY_NO
    </select>

    <select id="findByRcrtNo" resultType="com.wizian.admission.wizianb.domain.PassManagement">
        SELECT eam.*, eet.EV_AVG_SCORE, eet.PREL_ORD FROM entry_apply_master eam, entry_ev_target eet WHERE eam.APLY_NO = eet.APLY_NO AND eam.RCRT_NO = #{rcrtNo}
    </select>

    <update id="updatePass" parameterType="com.wizian.admission.wizianb.domain.PassManagement">
        UPDATE entry_apply_master SET DOC_PASS_YN = #{docPassYn} WHERE APLY_NO = #{aplyNo} AND RCRT_NO = #{rcrtNo}
    </update>

</mapper>